<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
    "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.robi.foodiy.mapper.MenusMapper">
    <select id="selectById" parameterType="Long" resultType="com.robi.foodiy.data.dao.MenusDao">
        SELECT *
        FROM menus
        WHERE id = #{id};
    </select>
    <select id="selectAllByRecordId" parameterType="Long" resultType="com.robi.foodiy.data.dao.MenusDao">
        SELECT *
        FROM menus
        WHERE record_id = #{recordId};
    </select>
    <insert id="insert" parameterType="com.robi.foodiy.data.dao.MenusDao" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO menus (record_id,name,pic_url,price,tags,score)
        VALUES (#{recordId},#{name},#{picUrl},#{price},#{tags},#{score});
    </insert>
    <update id="update" parameterType="com.robi.foodiy.data.dao.MenusDao">
        UPDATE menus
        SET (
            record_id=#{recordId},
            name=#{name},
            pic_url=#{picUrl},
            price=#{price},
            tags=#{tags},
            score=#{score}
        )
        WHERE id = #{id};
    </update>
    <delete id="deleteById" parameterType="Long">
        DELETE FROM menus
        WHERE id = #{id};
    </delete>
</mapper>